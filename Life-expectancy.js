var allData = [
  {
    Country: 'Афганистан',
    Male: '63.3',
    Female: '63.2',
  },
  {
    Country: 'Албания',
    Male: '76.3',
    Female: '79.9',
  },
  {
    Country: 'Алжир',
    Male: '76.2',
    Female: '78.1',
  },
  {
    Country: 'Ангола',
    Male: '60.7',
    Female: '65.5',
  },
  {
    Country: 'Антигуа и Барбадуа',
    Male: '74.9',
    Female: '78.0',
  },
  {
    Country: 'Аргентина',
    Male: '73.5',
    Female: '79.5',
  },
  {
    Country: 'Армения',
    Male: '72.5',
    Female: '79.2',
  },
  {
    Country: 'Австралия',
    Male: '81.3',
    Female: '84.8',
  },
  {
    Country: 'Австрия',
    Male: '79.4',
    Female: '83.8',
  },
  {
    Country: 'Азербайджан',
    Male: '68.8',
    Female: '74.1',
  },
  {
    Country: 'Багамы',
    Male: '69.9',
    Female: '76.6',
  },
  {
    Country: 'Бахрейн',
    Male: '75.0',
    Female: '77.0',
  },
  {
    Country: 'Бангладеш',
    Male: '73.0',
    Female: '75.6',
  },
  {
    Country: 'Барбадос',
    Male: '74.3',
    Female: '77.7',
  },
  {
    Country: 'Беларусь',
    Male: '69.7',
    Female: '79.6',
  },
  {
    Country: 'Бельгия',
    Male: '79.3',
    Female: '83.5',
  },
  {
    Country: 'Белиз',
    Male: '71.4',
    Female: '77.8',
  },
  {
    Country: 'Бенин',
    Male: '61.2',
    Female: '65.7',
  },
  {
    Country: 'Бутан',
    Male: '72.0',
    Female: '74.4',
  },
  {
    Country: 'Боливия',
    Male: '71.1',
    Female: '73.1',
  },
  {
    Country: 'Босния и Герцаговина',
    Male: '74.4',
    Female: '79.1',
  },
  {
    Country: 'Ботсвана',
    Male: '58.9',
    Female: '65.5',
  },
  {
    Country: 'Бразилия',
    Male: '72.4',
    Female: '79.4',
  },
  {
    Country: 'Бруней',
    Male: '73.4',
    Female: '75.4',
  },
  {
    Country: 'Болгария',
    Male: '71.6',
    Female: '78.6',
  },
  {
    Country: 'Буркина Фасо',
    Male: '60.1',
    Female: '65.2',
  },
  {
    Country: 'Бурунди',
    Male: '61.5',
    Female: '66.1',
  },
  {
    Country: 'Вануату',
    Male: '62.7',
    Female: '68.3',
  },
  {
    Country: 'Великобритания',
    Male: '79.8',
    Female: '83.0',
  },
  {
    Country: 'Венгрия',
    Male: '73.1',
    Female: '79.6',
  },
  {
    Country: 'Венесуэла',
    Male: '69.9',
    Female: '78.2',
  },
  {
    Country: 'Вьетнам',
    Male: '69.6',
    Female: '78.1',
  },
  {
    Country: 'Габон',
    Male: '63.6',
    Female: '69.7',
  },
  {
    Country: 'Гамбия',
    Male: '63.4',
    Female: '67.7',
  },
  {
    Country: 'Грузия',
    Male: '68.8',
    Female: '77.8',
  },
  {
    Country: 'Германия',
    Male: '78.7',
    Female: '84.8',
  },
  {
    Country: 'Гана',
    Male: '63.7',
    Female: '69.2',
  },
  {
    Country: 'Греция',
    Male: '78.6',
    Female: '83.6',
  },
  {
    Country: 'Гренада',
    Male: '70.6',
    Female: '75.3',
  },
  {
    Country: 'Гватемала',
    Male: '69.0',
    Female: '75.0',
  },
  {
    Country: 'Гвинея',
    Male: '59.5',
    Female: '62.3',
  },
  {
    Country: 'Гвинея-Биссау',
    Male: '57.4',
    Female: '63.0',
  },
  {
    Country: 'Гайана',
    Male: '62.5',
    Female: '69.4',
  },
  {
    Country: 'Гаити',
    Male: '63.3',
    Female: '64.8',
  },
  {
    Country: 'Гондурас',
    Male: '70.7',
    Female: '73.2',
  },
  {
    Country: 'Дания',
    Male: '79.6',
    Female: '83.0',
  },
  {
    Country: 'Джибути',
    Male: '64.1',
    Female: '67.8',
  },
  {
    Country: 'Доминикана',
    Male: '69.8',
    Female: '76.2',
  },
  {
    Country: 'Египет',
    Male: '69.6',
    Female: '74.1',
  },
  {
    Country: 'Замбия',
    Male: '59.5',
    Female: '65.4',
  },
  {
    Country: 'Зимбабве',
    Male: '57.5',
    Female: '63.6',
  },
  {
    Country: 'Исландия',
    Male: '80.8',
    Female: '83.9',
  },
  {
    Country: 'Индия',
    Male: '69.5',
    Female: '72.2',
  },
  {
    Country: 'Индонезия',
    Male: '69.4',
    Female: '73.3',
  },
  {
    Country: 'Иран',
    Male: '75.7',
    Female: '79.1',
  },
  {
    Country: 'Ирак',
    Male: '69.9',
    Female: '75.0',
  },
  {
    Country: 'Ирландия',
    Male: '80.2',
    Female: '83.5',
  },
  {
    Country: 'Израиль',
    Male: '80.8',
    Female: '84.4',
  },
  {
    Country: 'Италия',
    Male: '80.9',
    Female: '84.9',
  },
  {
    Country: 'Иордания',
    Male: '77.0',
    Female: '78.8',
  },
  {
    Country: 'Испания',
    Male: '80.7',
    Female: '85.7',
  },
  {
    Country: 'Йемен',
    Male: '64.4',
    Female: '68.9',
  },
  {
    Country: 'Кабо Верде',
    Male: '69.9',
    Female: '77.9',
  },
  {
    Country: 'Казахстан',
    Male: '70.0',
    Female: '77.6',
  },
  {
    Country: 'Камбоджия',
    Male: '67.2',
    Female: '72.7',
  },
  {
    Country: 'Камерун',
    Male: '60.3',
    Female: '64.5',
  },
  {
    Country: 'Канада',
    Male: '80.4',
    Female: '84.1',
  },
  {
    Country: 'Китай',
    Male: '74.7',
    Female: '80.5',
  },
  {
    Country: 'Колумбия',
    Male: '76.7',
    Female: '81.9',
  },
  {
    Country: 'Коморы',
    Male: '65.9',
    Female: '68.9',
  },
  {
    Country: 'Конго',
    Male: '63.8',
    Female: '65.6',
  },
  {
    Country: 'Коста Рика',
    Male: '78.3',
    Female: '83.4',
  },
  {
    Country: 'Кот-д-Ивуар',
    Male: '60.5',
    Female: '65.8',
  },
  {
    Country: 'Куба',
    Male: '75.4',
    Female: '80.3',
  },
  {
    Country: 'Кипр',
    Male: '81.1',
    Female: '85.1',
  },
  {
    Country: 'КНДР',
    Male: '69.3',
    Female: '75.7',
  },
  {
    Country: 'Конго',
    Male: '60.0',
    Female: '64.8',
  },
  {
    Country: 'Кения',
    Male: '63.7',
    Female: '68.4',
  },
  {
    Country: 'Кирибати',
    Male: '56.1',
    Female: '62.8',
  },
  {
    Country: 'Кувейт',
    Male: '79.3',
    Female: '83.9',
  },
  {
    Country: 'Кыргызстан',
    Male: '70.7',
    Female: '77.3',
  },
  {
    Country: 'Лаос',
    Male: '66.2',
    Female: '70.9',
  },
  {
    Country: 'Латвия',
    Male: '70.6',
    Female: '79.8',
  },
  {
    Country: 'Ливан',
    Male: '74.0',
    Female: '79.2',
  },
  {
    Country: 'Лесото',
    Male: '47.7',
    Female: '54.2',
  },
  {
    Country: 'Либерия',
    Male: '63.2',
    Female: '65.0',
  },
  {
    Country: 'Ливия',
    Male: '74.2',
    Female: '77.3',
  },
  {
    Country: 'Литва',
    Male: '71.2',
    Female: '80.4',
  },
  {
    Country: 'Люксембург',
    Male: '80.6',
    Female: '84.2',
  },
  {
    Country: 'Мадагаскар',
    Male: '64.1',
    Female: '66.6',
  },
  {
    Country: 'Малави',
    Male: '62.3',
    Female: '68.9',
  },
  {
    Country: 'Малайзия',
    Male: '72.6',
    Female: '77.1',
  },
  {
    Country: 'Мальдивы',
    Male: '78.6',
    Female: '80.8',
  },
  {
    Country: 'Мали',
    Male: '62.2',
    Female: '63.4',
  },
  {
    Country: 'Мальта',
    Male: '79.9',
    Female: '83.8',
  },
  {
    Country: 'Мавритания',
    Male: '68.1',
    Female: '68.7',
  },
  {
    Country: 'Маврикий',
    Male: '71.0',
    Female: '77.3',
  },
  {
    Country: 'Мексика',
    Male: '73.1',
    Female: '78.9',
  },
  {
    Country: 'Микронезия',
    Male: '60.3',
    Female: '66.0',
  },
  {
    Country: 'Монголия',
    Male: '63.8',
    Female: '72.8',
  },
  {
    Country: 'Марокко',
    Male: '71.7',
    Female: '74.3',
  },
  {
    Country: 'Мозамбик',
    Male: '54.5',
    Female: '61.7',
  },
  {
    Country: 'Мьянма',
    Male: '65.9',
    Female: '72.2',
  },
  {
    Country: 'Молдова',
    Male: '69.3',
    Female: '77.1',
  },
  {
    Country: 'Намибия',
    Male: '60.6',
    Female: '68.4',
  },
  {
    Country: 'Непал',
    Male: '68.9',
    Female: '72.7',
  },
  {
    Country: 'Нидерланды',
    Male: '80.4',
    Female: '83.1',
  },
  {
    Country: 'Новая Зеландия',
    Male: '80.4',
    Female: '83.5',
  },
  {
    Country: 'Никарагуа',
    Male: '72.1',
    Female: '77.9',
  },
  {
    Country: 'Нигер',
    Male: '62.1',
    Female: '64.6',
  },
  {
    Country: 'Нигерия',
    Male: '61.2',
    Female: '64.1',
  },
  {
    Country: 'Норвегия',
    Male: '81.1',
    Female: '84.1',
  },
  {
    Country: 'Оман',
    Male: '73.0',
    Female: '75.3',
  },
  {
    Country: 'ОАЭ',
    Male: '75.1',
    Female: '78.4',
  },
  {
    Country: 'Пакистан',
    Male: '64.6',
    Female: '66.7',
  },
  {
    Country: 'Панама',
    Male: '76.6',
    Female: '82.1',
  },
  {
    Country: 'Папуа Новая Гвинея',
    Male: '63.4',
    Female: '67.4',
  },
  {
    Country: 'Парагвай',
    Male: '73.1',
    Female: '78.8',
  },
  {
    Country: 'Перу',
    Male: '78.5',
    Female: '81.3',
  },
  {
    Country: 'Польша',
    Male: '74.5',
    Female: '81.9',
  },
  {
    Country: 'Португалия',
    Male: '78.6',
    Female: '84.4',
  },
  {
    Country: 'Румыния',
    Male: '72.0',
    Female: '79.3',
  },
  {
    Country: 'Россия',
    Male: '68.2',
    Female: '78.0',
  },
  {
    Country: 'Руанда',
    Male: '66.9',
    Female: '71.2',
  },
  {
    Country: 'Северная Македония',
    Male: '72.8',
    Female: '76.9',
  },
  {
    Country: 'Сент-Люсия',
    Male: '71.3',
    Female: '77.7',
  },
  {
    Country: 'Сент-Винсент и Гренадины',
    Male: '71.3',
    Female: '75.3',
  },
  {
    Country: 'Самоа',
    Male: '69.2',
    Female: '71.8',
  },
  {
    Country: 'Сан-Томе и Принсипи',
    Male: '68.8',
    Female: '72.0',
  },
  {
    Country: 'Саудовская Аравия',
    Male: '73.1',
    Female: '76.1',
  },
  {
    Country: 'Сенегал',
    Male: '66.8',
    Female: '70.1',
  },
  {
    Country: 'Сербия',
    Male: '73.5',
    Female: '78.3',
  },
  {
    Country: 'Сейшеллы',
    Male: '70.0',
    Female: '77.1',
  },
  {
    Country: 'Сьерра-Леоне',
    Male: '59.6',
    Female: '61.9',
  },
  {
    Country: 'Сингапур',
    Male: '81.0',
    Female: '85.5',
  },
  {
    Country: 'Словакия',
    Male: '74.8',
    Female: '81.4',
  },
  {
    Country: 'Словения',
    Male: '78.6',
    Female: '84.1',
  },
  {
    Country: 'Соломоновы острова',
    Male: '62.9',
    Female: '67.9',
  },
  {
    Country: 'Сомали',
    Male: '54.0',
    Female: '59.2',
  },
  {
    Country: 'Судан',
    Male: '67.6',
    Female: '70.8',
  },
  {
    Country: 'Суринам',
    Male: '68.5',
    Female: '74.6',
  },
  {
    Country: 'Сирия',
    Male: '71.2',
    Female: '74.3',
  },
  {
    Country: 'США',
    Male: '76.3',
    Female: '80.7',
  },
  {
    Country: 'Таджикистан',
    Male: '67.6',
    Female: '71.5',
  },
  {
    Country: 'Тайланд',
    Male: '74.4',
    Female: '81.0',
  },
  {
    Country: 'Танзания',
    Male: '65.4',
    Female: '69.3',
  },
  {
    Country: 'Тимор-Лешти',
    Male: '67.9',
    Female: '71.4',
  },
  {
    Country: 'Того',
    Male: '61.5',
    Female: '67.2',
  },
  {
    Country: 'Тонга',
    Male: '69.8',
    Female: '75.6',
  },
  {
    Country: 'Тринидад и Тобаго',
    Male: '72.5',
    Female: '79.9',
  },
  {
    Country: 'Тунис',
    Male: '74.9',
    Female: '79.2',
  },
  {
    Country: 'Турция',
    Male: '76.4',
    Female: '80.7',
  },
  {
    Country: 'Туркменистан',
    Male: '66.5',
    Female: '73.0',
  },
  {
    Country: 'Уганда',
    Male: '63.2',
    Female: '70.1',
  },
  {
    Country: 'Украина',
    Male: '68.0',
    Female: '77.8',
  },
  {
    Country: 'Уругвай',
    Male: '73.5',
    Female: '80.6',
  },
  {
    Country: 'Узбекистан',
    Male: '70.8',
    Female: '75.2',
  },
  {
    Country: 'Фиджи',
    Male: '65.9',
    Female: '70.3',
  },
  {
    Country: 'Финляндия',
    Male: '79.2',
    Female: '84.0',
  },
  {
    Country: 'Франция',
    Male: '79.8',
    Female: '85.1',
  },
  {
    Country: 'Филиппины',
    Male: '67.4',
    Female: '73.6',
  },
  {
    Country: 'Хорватия',
    Male: '75.5',
    Female: '81.6',
  },
  {
    Country: 'Центрально-Африканская Республика',
    Male: '50.2',
    Female: '56.3',
  },
  {
    Country: 'Черногория',
    Male: '73.2',
    Female: '78.7',
  },
  {
    Country: 'Чад',
    Male: '58.0',
    Female: '61.3',
  },
  {
    Country: 'Чили',
    Male: '78.1',
    Female: '83.2',
  },
  {
    Country: 'Чехия',
    Male: '76.3',
    Female: '81.9',
  },
  {
    Country: 'Шри-Ланка',
    Male: '73.8',
    Female: '79.8',
  },
  {
    Country: 'Швеция',
    Male: '80.8',
    Female: '84.0',
  },
  {
    Country: 'Швейцария',
    Male: '81.8',
    Female: '85.1',
  },
  {
    Country: 'Эквадор',
    Male: '76.4',
    Female: '80.5',
  },
  {
    Country: 'Эль Сальвадор',
    Male: '70.6',
    Female: '79.1',
  },
  {
    Country: 'Экваториальная Гвинея',
    Male: '60.9',
    Female: '63.6',
  },
  {
    Country: 'Эритрея',
    Male: '61.3',
    Female: '67.1',
  },
  {
    Country: 'Эстония',
    Male: '74.7',
    Female: '82.6',
  },
  {
    Country: 'Эсватини',
    Male: '53.4',
    Female: '63.2',
  },
  {
    Country: 'Эфиопия',
    Male: '66.9',
    Female: '70.5',
  },
  {
    Country: 'ЮАР',
    Male: '62.2',
    Female: '68.3',
  },
  {
    Country: 'Южный Судан',
    Male: '60.8',
    Female: '64.8',
  },
  {
    Country: 'Южная Корея',
    Male: '80.3',
    Female: '86.1',
  },
  {
    Country: 'Ямайка',
    Male: '74.4',
    Female: '77.7',
  },
  {
    Country: 'Япония',
    Male: '81.5',
    Female: '86.9',
  },
]

let countriesNumber = allData.length
var countryAge = 0
var measure = 0

function loadOptions() {
  for (i = 0; i < countriesNumber; i++) {
    var selectCountry = document.createElement('option')
    selectCountry.value = allData[i].Country
    selectCountry.id = 'counrtyId'
    document
      .getElementById('selectCountry')
      .appendChild(selectCountry).innerHTML = allData[i].Country
  }

  for (i = 1; i < 101; i++) {
    var selectAge = document.createElement('option')
    document.getElementById('selectAge').appendChild(selectAge).innerHTML = i
  }

  if (measure == 1) {
    document.getElementById('ym').textContent = 'лет'
  } else {
    document.getElementById('ym').textContent = 'месяцев'
  }
}

function App() {
  document.getElementById('years').replaceChildren()
  document.getElementById('selectMeasure').className = ''
  measure = document.getElementById('selectMeasure').value

  if (measure == 1) {
    document.getElementById('ym').textContent = 'лет'
  } else if (measure == 12) {
    document.getElementById('ym').textContent = 'месяцев'
  } else if (measure == 52) {
    document.getElementById('ym').textContent = 'недель'
  } else if (measure == 365) {
    document.getElementById('ym').textContent = 'дней'
  }

  var myAge = document.getElementById('selectAge').value * measure

  for (i = 0; i < countriesNumber; i++) {
    if (document.getElementById('selectCountry').value == allData[i].Country) {
      if (document.getElementById('selectGender').value == 'Female') {
        countryAge = parseInt(allData[i].Female, 10) * measure
      } else if (document.getElementById('selectGender').value == 'Male') {
        countryAge = parseInt(allData[i].Male, 10) * measure
      }
    }
  }

  if (myAge >= 60) {
    var plus = 2 * measure
  } else {
    var plus = 0
  }

  var myAgeLeft = countryAge - myAge - measure + plus

  for (i = 1; i < myAge - 1; i++) {
    if (measure == 12) {
      var el = document.createElement('div')
      el.className = 'yearBefore'
      document.getElementById('years').appendChild(el)
    } else if (measure == 52 || measure == 365) {
      var el = document.createElement('div')
      el.className = 'yearBefore2'
      document.getElementById('years').appendChild(el)
    } else if (measure == 1) {
      var el = document.createElement('div')
      el.className = 'yearBefore3'
      document.getElementById('years').appendChild(el)
    }
  }

  var el = document.createElement('div')
  var p = document.createElement('p')
  if (measure == 12) {
    el.className = 'yearCurrent'
  } else if (measure == 52 || measure == 365) {
    el.className = 'yearCurrent2'
  } else if (measure == 1) {
    el.className = 'yearCurrent3'
  }
  el.id = 'ddd'
  document.getElementById('years').appendChild(el)

  for (i = 1; i <= myAgeLeft; i++) {
    if (measure == 12) {
      var el = document.createElement('div')
      el.className = 'yearAfter'
      document.getElementById('years').appendChild(el)
    } else if (measure == 52 || measure == 365) {
      var el = document.createElement('div')
      el.className = 'yearAfter2'
      document.getElementById('years').appendChild(el)
    } else if (measure == 1) {
      var el = document.createElement('div')
      el.className = 'yearAfter3'
      document.getElementById('years').appendChild(el)
    }
  }

  document.getElementById('countryLifespan').textContent = countryAge

  var jj = countryAge.toString().split('')
  var ll = jj.length - 1
  var kk = jj[ll]

  console.log(kk)
  if (measure == 12) {
    if (kk > 4 || kk == 0) {
      document.getElementById('ymwd').textContent = 'месяцев'
    } else if (kk == 4 || kk == 3 || kk == 2) {
      document.getElementById('ymwd').textContent = 'месяца'
    } else if (kk == 1) {
      document.getElementById('ymwd').textContent = 'месяц'
    }
  } else if (measure == 52) {
    if (kk > 4 || kk == 0) {
      document.getElementById('ymwd').textContent = 'недель'
    } else if (kk == 4 || kk == 3 || kk == 2) {
      document.getElementById('ymwd').textContent = 'недели'
    } else if (kk == 1) {
      document.getElementById('ymwd').textContent = 'неделя'
    }
  } else if (measure == 365) {
    if (kk > 4 || kk == 0) {
      document.getElementById('ymwd').textContent = 'дней'
    } else if (kk == 4 || kk == 3 || kk == 2) {
      document.getElementById('ymwd').textContent = 'дня'
    } else if (kk == 1) {
      document.getElementById('ymwd').textContent = 'день'
    }
  } else if (measure == 1) {
    if (kk > 4 || kk == 0) {
      document.getElementById('ymwd').textContent = 'лет'
    } else if (kk == 4 || kk == 3 || kk == 2) {
      document.getElementById('ymwd').textContent = 'года'
    } else if (kk == 1) {
      document.getElementById('ymwd').textContent = 'год'
    }
  }
}
